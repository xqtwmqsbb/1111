{"remainingRequest":"C:\\Users\\86187\\Desktop\\EnterprisePersonnelManagementSystem-main\\front\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\86187\\Desktop\\EnterprisePersonnelManagementSystem-main\\front\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\86187\\Desktop\\EnterprisePersonnelManagementSystem-main\\front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\86187\\Desktop\\EnterprisePersonnelManagementSystem-main\\front\\src\\views\\center.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\86187\\Desktop\\EnterprisePersonnelManagementSystem-main\\front\\src\\views\\center.vue","mtime":1720410171000},{"path":"C:\\Users\\86187\\Desktop\\EnterprisePersonnelManagementSystem-main\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\86187\\Desktop\\EnterprisePersonnelManagementSystem-main\\front\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\86187\\Desktop\\EnterprisePersonnelManagementSystem-main\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\86187\\Desktop\\EnterprisePersonnelManagementSystem-main\\front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8g5pWw5a2X77yM6YKu5Lu277yM5omL5py677yMdXJs77yM6Lqr5Lu96K+B5qCh6aqMCmltcG9ydCB7IGlzTnVtYmVyLCBpc0ludE51bWVyLCBpc0VtYWlsLCBpc01vYmlsZSwgaXNQaG9uZSwgaXNVUkwsIGNoZWNrSWRDYXJkIH0gZnJvbSAiQC91dGlscy92YWxpZGF0ZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcnVsZUZvcm06IHt9LAogICAgICBmbGFnOiAnJywKICAgICAgdXNlcnNGbGFnOiBmYWxzZSwKICAgICAgeXVhbmdvbmd4aW5nYmllT3B0aW9uczogW10sCiAgICAgIHl1YW5nb25nYnVtZW5PcHRpb25zOiBbXSwKICAgICAgeXVhbmdvbmd6aGl3ZWlPcHRpb25zOiBbXQogICAgfTsKICB9LAogIG1vdW50ZWQoKSB7CiAgICB2YXIgdGFibGUgPSB0aGlzLiRzdG9yYWdlLmdldCgic2Vzc2lvblRhYmxlIik7CiAgICB0aGlzLmZsYWcgPSB0YWJsZTsKICAgIHRoaXMuJGh0dHAoewogICAgICB1cmw6IGAke3RoaXMuJHN0b3JhZ2UuZ2V0KCJzZXNzaW9uVGFibGUiKX0vc2Vzc2lvbmAsCiAgICAgIG1ldGhvZDogImdldCIKICAgIH0pLnRoZW4oKHsKICAgICAgZGF0YQogICAgfSkgPT4gewogICAgICBpZiAoZGF0YSAmJiBkYXRhLmNvZGUgPT09IDApIHsKICAgICAgICB0aGlzLnJ1bGVGb3JtID0gZGF0YS5kYXRhOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoZGF0YS5tc2cpOwogICAgICB9CiAgICB9KTsKICAgIHRoaXMueXVhbmdvbmd4aW5nYmllT3B0aW9ucyA9ICLnlLcs5aWzIi5zcGxpdCgnLCcpOwogICAgdGhpcy4kaHR0cCh7CiAgICAgIHVybDogYG9wdGlvbi9idW1lbnhpbnhpL2J1bWVubWluZ2NoZW5nYCwKICAgICAgbWV0aG9kOiAiZ2V0IgogICAgfSkudGhlbigoewogICAgICBkYXRhCiAgICB9KSA9PiB7CiAgICAgIGlmIChkYXRhICYmIGRhdGEuY29kZSA9PT0gMCkgewogICAgICAgIHRoaXMueXVhbmdvbmdidW1lbk9wdGlvbnMgPSBkYXRhLmRhdGE7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihkYXRhLm1zZyk7CiAgICAgIH0KICAgIH0pOwogICAgdGhpcy4kaHR0cCh7CiAgICAgIHVybDogYG9wdGlvbi96aGl3ZWl4aW54aS96aGl3ZWlgLAogICAgICBtZXRob2Q6ICJnZXQiCiAgICB9KS50aGVuKCh7CiAgICAgIGRhdGEKICAgIH0pID0+IHsKICAgICAgaWYgKGRhdGEgJiYgZGF0YS5jb2RlID09PSAwKSB7CiAgICAgICAgdGhpcy55dWFuZ29uZ3poaXdlaU9wdGlvbnMgPSBkYXRhLmRhdGE7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihkYXRhLm1zZyk7CiAgICAgIH0KICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgeXVhbmdvbmd0b3V4aWFuZ1VwbG9hZENoYW5nZShmaWxlVXJscykgewogICAgICB0aGlzLnJ1bGVGb3JtLnRvdXhpYW5nID0gZmlsZVVybHM7CiAgICB9LAogICAgb25VcGRhdGVIYW5kbGVyKCkgewogICAgICBpZiAoIXRoaXMucnVsZUZvcm0uZ29uZ2hhbyAmJiAneXVhbmdvbmcnID09IHRoaXMuZmxhZykgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+W3peWPt+S4jeiDveS4uuepuicpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBpZiAoIXRoaXMucnVsZUZvcm0ubWltYSAmJiAneXVhbmdvbmcnID09IHRoaXMuZmxhZykgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+WvhueggeS4jeiDveS4uuepuicpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBpZiAoJ3l1YW5nb25nJyA9PSB0aGlzLmZsYWcgJiYgdGhpcy5ydWxlRm9ybS5kaWFuaHVhICYmICFpc01vYmlsZSh0aGlzLnJ1bGVGb3JtLmRpYW5odWEpKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihg55S16K+d5bqU6L6T5YWl5omL5py65qC85byPYCk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGlmICgndXNlcnMnID09IHRoaXMuZmxhZyAmJiB0aGlzLnJ1bGVGb3JtLnVzZXJuYW1lLnRyaW0oKS5sZW5ndGggPCAxKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihg55So5oi35ZCN5LiN6IO95Li656m6YCk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHRoaXMuJGh0dHAoewogICAgICAgIHVybDogYCR7dGhpcy4kc3RvcmFnZS5nZXQoInNlc3Npb25UYWJsZSIpfS91cGRhdGVgLAogICAgICAgIG1ldGhvZDogInBvc3QiLAogICAgICAgIGRhdGE6IHRoaXMucnVsZUZvcm0KICAgICAgfSkudGhlbigoewogICAgICAgIGRhdGEKICAgICAgfSkgPT4gewogICAgICAgIGlmIChkYXRhICYmIGRhdGEuY29kZSA9PT0gMCkgewogICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgIG1lc3NhZ2U6ICLkv67mlLnkv6Hmga/miJDlip8iLAogICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgIGR1cmF0aW9uOiAxNTAwLAogICAgICAgICAgICBvbkNsb3NlOiAoKSA9PiB7fQogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoZGF0YS5tc2cpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["isNumber","isIntNumer","isEmail","isMobile","isPhone","isURL","checkIdCard","data","ruleForm","flag","usersFlag","yuangongxingbieOptions","yuangongbumenOptions","yuangongzhiweiOptions","mounted","table","$storage","get","$http","url","method","then","code","$message","error","msg","split","methods","yuangongtouxiangUploadChange","fileUrls","touxiang","onUpdateHandler","gonghao","mima","dianhua","username","trim","length","message","type","duration","onClose"],"sources":["src/views/center.vue"],"sourcesContent":["<template>\n  <div>\n    <el-form\n      class=\"detail-form-content\"\n      ref=\"ruleForm\"\n      :model=\"ruleForm\"\n      label-width=\"80px\"\n    >  \n     <el-row>\n      <el-col :span=\"12\">\n        <el-form-item   v-if=\"flag=='yuangong'\"  label=\"工号\" prop=\"gonghao\">\n          <el-input v-model=\"ruleForm.gonghao\" readonly              placeholder=\"工号\" clearable></el-input>\n        </el-form-item>\n      </el-col>\n      <el-col :span=\"12\">\n        <el-form-item   v-if=\"flag=='yuangong'\"  label=\"姓名\" prop=\"xingming\">\n          <el-input v-model=\"ruleForm.xingming\"               placeholder=\"姓名\" clearable></el-input>\n        </el-form-item>\n      </el-col>\n      <el-col :span=\"12\">\n        <el-form-item v-if=\"flag=='yuangong'\"  label=\"性别\" prop=\"xingbie\">\n          <el-select v-model=\"ruleForm.xingbie\" placeholder=\"请选择性别\">\n            <el-option\n                v-for=\"(item,index) in yuangongxingbieOptions\"\n                v-bind:key=\"index\"\n                :label=\"item\"\n                :value=\"item\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n      </el-col>\n      <el-col :span=\"24\">  \n        <el-form-item v-if=\"flag=='yuangong'\" label=\"头像\" prop=\"touxiang\">\n          <file-upload\n          tip=\"点击上传头像\"\n          action=\"file/upload\"\n          :limit=\"3\"\n          :multiple=\"true\"\n          :fileUrls=\"ruleForm.touxiang?ruleForm.touxiang:''\"\n          @change=\"yuangongtouxiangUploadChange\"\n          ></file-upload>\n        </el-form-item>\n      </el-col>\n      <el-col :span=\"12\">\n        <el-form-item v-if=\"flag=='yuangong'\"  label=\"部门\" prop=\"bumen\">\n          <el-select v-model=\"ruleForm.bumen\" placeholder=\"请选择部门\">\n            <el-option\n                v-for=\"(item,index) in yuangongbumenOptions\"\n                v-bind:key=\"index\"\n                :label=\"item\"\n                :value=\"item\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n      </el-col>\n      <el-col :span=\"12\">\n        <el-form-item v-if=\"flag=='yuangong'\"  label=\"职位\" prop=\"zhiwei\">\n          <el-select v-model=\"ruleForm.zhiwei\" placeholder=\"请选择职位\">\n            <el-option\n                v-for=\"(item,index) in yuangongzhiweiOptions\"\n                v-bind:key=\"index\"\n                :label=\"item\"\n                :value=\"item\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n      </el-col>\n      <el-col :span=\"12\">\n        <el-form-item   v-if=\"flag=='yuangong'\"  label=\"电话\" prop=\"dianhua\">\n          <el-input v-model=\"ruleForm.dianhua\"               placeholder=\"电话\" clearable></el-input>\n        </el-form-item>\n      </el-col>\n      <el-form-item v-if=\"flag=='users'\" label=\"用户名\" prop=\"username\">\n        <el-input v-model=\"ruleForm.username\" \n        placeholder=\"用户名\"></el-input>\n      </el-form-item>\n      <el-col :span=\"24\">\n      <el-form-item>\n        <el-button type=\"primary\" @click=\"onUpdateHandler\">修 改</el-button>\n      </el-form-item>\n      </el-col>\n      </el-row>\n    </el-form>\n  </div>\n</template>\n<script>\n// 数字，邮件，手机，url，身份证校验\nimport { isNumber,isIntNumer,isEmail,isMobile,isPhone,isURL,checkIdCard } from \"@/utils/validate\";\n\nexport default {\n  data() {\n    return {\n      ruleForm: {},\n      flag: '',\n      usersFlag: false,\n      yuangongxingbieOptions: [],\n      yuangongbumenOptions: [],\n      yuangongzhiweiOptions: [],\n    };\n  },\n  mounted() {\n    var table = this.$storage.get(\"sessionTable\");\n    this.flag = table;\n    this.$http({\n      url: `${this.$storage.get(\"sessionTable\")}/session`,\n      method: \"get\"\n    }).then(({ data }) => {\n      if (data && data.code === 0) {\n        this.ruleForm = data.data;\n      } else {\n        this.$message.error(data.msg);\n      }\n    });\n    this.yuangongxingbieOptions = \"男,女\".split(',')\n    this.$http({\n      url: `option/bumenxinxi/bumenmingcheng`,\n      method: \"get\"\n    }).then(({ data }) => {\n      if (data && data.code === 0) {\n        this.yuangongbumenOptions = data.data;\n      } else {\n        this.$message.error(data.msg);\n      }\n    });\n    this.$http({\n      url: `option/zhiweixinxi/zhiwei`,\n      method: \"get\"\n    }).then(({ data }) => {\n      if (data && data.code === 0) {\n        this.yuangongzhiweiOptions = data.data;\n      } else {\n        this.$message.error(data.msg);\n      }\n    });\n  },\n  methods: {\n    yuangongtouxiangUploadChange(fileUrls) {\n        this.ruleForm.touxiang = fileUrls;\n    },\n    onUpdateHandler() {\n      if((!this.ruleForm.gonghao)&& 'yuangong'==this.flag){\n        this.$message.error('工号不能为空');\n        return\n      }\n      if((!this.ruleForm.mima)&& 'yuangong'==this.flag){\n        this.$message.error('密码不能为空');\n        return\n      }\n      if( 'yuangong' ==this.flag && this.ruleForm.dianhua&&(!isMobile(this.ruleForm.dianhua))){\n        this.$message.error(`电话应输入手机格式`);\n        return\n      }\n      if('users'==this.flag && this.ruleForm.username.trim().length<1) {\n\tthis.$message.error(`用户名不能为空`);\n        return\t\n      }\n      this.$http({\n        url: `${this.$storage.get(\"sessionTable\")}/update`,\n        method: \"post\",\n        data: this.ruleForm\n      }).then(({ data }) => {\n        if (data && data.code === 0) {\n          this.$message({\n            message: \"修改信息成功\",\n            type: \"success\",\n            duration: 1500,\n            onClose: () => {\n            }\n          });\n        } else {\n          this.$message.error(data.msg);\n        }\n      });\n    }\n  }\n};\n</script>\n<style lang=\"scss\" scoped>\n</style>\n"],"mappings":"AAsFA;AACA,SAAAA,QAAA,EAAAC,UAAA,EAAAC,OAAA,EAAAC,QAAA,EAAAC,OAAA,EAAAC,KAAA,EAAAC,WAAA;AAEA;EACAC,KAAA;IACA;MACAC,QAAA;MACAC,IAAA;MACAC,SAAA;MACAC,sBAAA;MACAC,oBAAA;MACAC,qBAAA;IACA;EACA;EACAC,QAAA;IACA,IAAAC,KAAA,QAAAC,QAAA,CAAAC,GAAA;IACA,KAAAR,IAAA,GAAAM,KAAA;IACA,KAAAG,KAAA;MACAC,GAAA,UAAAH,QAAA,CAAAC,GAAA;MACAG,MAAA;IACA,GAAAC,IAAA;MAAAd;IAAA;MACA,IAAAA,IAAA,IAAAA,IAAA,CAAAe,IAAA;QACA,KAAAd,QAAA,GAAAD,IAAA,CAAAA,IAAA;MACA;QACA,KAAAgB,QAAA,CAAAC,KAAA,CAAAjB,IAAA,CAAAkB,GAAA;MACA;IACA;IACA,KAAAd,sBAAA,SAAAe,KAAA;IACA,KAAAR,KAAA;MACAC,GAAA;MACAC,MAAA;IACA,GAAAC,IAAA;MAAAd;IAAA;MACA,IAAAA,IAAA,IAAAA,IAAA,CAAAe,IAAA;QACA,KAAAV,oBAAA,GAAAL,IAAA,CAAAA,IAAA;MACA;QACA,KAAAgB,QAAA,CAAAC,KAAA,CAAAjB,IAAA,CAAAkB,GAAA;MACA;IACA;IACA,KAAAP,KAAA;MACAC,GAAA;MACAC,MAAA;IACA,GAAAC,IAAA;MAAAd;IAAA;MACA,IAAAA,IAAA,IAAAA,IAAA,CAAAe,IAAA;QACA,KAAAT,qBAAA,GAAAN,IAAA,CAAAA,IAAA;MACA;QACA,KAAAgB,QAAA,CAAAC,KAAA,CAAAjB,IAAA,CAAAkB,GAAA;MACA;IACA;EACA;EACAE,OAAA;IACAC,6BAAAC,QAAA;MACA,KAAArB,QAAA,CAAAsB,QAAA,GAAAD,QAAA;IACA;IACAE,gBAAA;MACA,UAAAvB,QAAA,CAAAwB,OAAA,uBAAAvB,IAAA;QACA,KAAAc,QAAA,CAAAC,KAAA;QACA;MACA;MACA,UAAAhB,QAAA,CAAAyB,IAAA,uBAAAxB,IAAA;QACA,KAAAc,QAAA,CAAAC,KAAA;QACA;MACA;MACA,uBAAAf,IAAA,SAAAD,QAAA,CAAA0B,OAAA,KAAA/B,QAAA,MAAAK,QAAA,CAAA0B,OAAA;QACA,KAAAX,QAAA,CAAAC,KAAA;QACA;MACA;MACA,oBAAAf,IAAA,SAAAD,QAAA,CAAA2B,QAAA,CAAAC,IAAA,GAAAC,MAAA;QACA,KAAAd,QAAA,CAAAC,KAAA;QACA;MACA;MACA,KAAAN,KAAA;QACAC,GAAA,UAAAH,QAAA,CAAAC,GAAA;QACAG,MAAA;QACAb,IAAA,OAAAC;MACA,GAAAa,IAAA;QAAAd;MAAA;QACA,IAAAA,IAAA,IAAAA,IAAA,CAAAe,IAAA;UACA,KAAAC,QAAA;YACAe,OAAA;YACAC,IAAA;YACAC,QAAA;YACAC,OAAA,EAAAA,CAAA,MACA;UACA;QACA;UACA,KAAAlB,QAAA,CAAAC,KAAA,CAAAjB,IAAA,CAAAkB,GAAA;QACA;MACA;IACA;EACA;AACA","ignoreList":[]}]}